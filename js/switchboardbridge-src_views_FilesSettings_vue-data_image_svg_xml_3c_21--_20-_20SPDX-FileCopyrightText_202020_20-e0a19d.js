"use strict";(self.webpackChunkswitchboardbridge=self.webpackChunkswitchboardbridge||[]).push([["src_views_FilesSettings_vue-data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightText_202020_20-e0a19d"],{4658:(t,e,i)=>{i.d(e,{A:()=>r});var n=i(1354),s=i.n(n),a=i(6314),l=i.n(a)()(s());l.push([t.id,"\n.wrapper[data-v-16b0f112] {\n\tmargin-top: 15px;\n\tmargin-bottom: 5px;\n\tdisplay: flex;\n\talign-items: flex-end;\n\tflex-direction: column;\n}\n#title[data-v-16b0f112], #popupbox[data-v-16b0f112] {\n\talign-self: start;\n}\n","",{version:3,sources:["webpack://./src/views/FilesSettings.vue"],names:[],mappings:";AA6JA;CACA,gBAAA;CACA,kBAAA;CACA,aAAA;CACA,qBAAA;CACA,sBAAA;AACA;AACA;CACA,iBAAA;AACA",sourcesContent:['<template>\n\t<div class="wrapper">\n\t\t<h4 id="title">\n\t\t\tSwitchboard settings\n\t\t</h4>\n\t\t<NcTextField v-model="switchboardUrl"\n\t\t\tlabel="Switchboard URL"\n\t\t\t:helper-text="helpText"\n\t\t\ttype="url"\n\t\t\tplaceholder="e.g. https://switchboard.clarin.eu"\n\t\t\ttrailing-button-icon="undo"\n\t\t\ttrailing-button-label="Reset to default"\n\t\t\t:show-trailing-button="switchboardUrl !== switchboardDefaultUrl"\n\t\t\t:error="invalid"\n\t\t\t:success="submitted"\n\t\t\t@trailing-button-click="reset"\n\t\t\t@update:modelValue="updateUI">\n\t\t\t<template #icon>\n\t\t\t\t<LinkEdit :size="20" />\n\t\t\t</template>\n\t\t</NcTextField>\n\t\t<NcActions :force-name="true">\n\t\t\t<NcActionButton :disabled="submitDisabled" @click="submit">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ContentSaveOutline :size="20" />\n\t\t\t\t</template>\n\t\t\t\tSave\n\t\t\t</NcActionButton>\n\t\t</NcActions>\n\t\t<div id="popupbox">\n\t\t\t<NcCheckboxRadioSwitch :model-value="usePopUp" :loading="loading" @update:modelValue="togglePopUp">\n\t\t\t\tUse Switchboard on-screen pop-up to open single files (experimental)\n\t\t\t</NcCheckboxRadioSwitch>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { emit } from \'@nextcloud/event-bus\'\nimport axios from \'@nextcloud/axios\'\nimport { generateUrl } from \'@nextcloud/router\'\nimport { NcActions, NcActionButton, NcTextField, NcCheckboxRadioSwitch } from \'@nextcloud/vue\'\nimport LinkEdit from \'vue-material-design-icons/LinkEdit.vue\'\nimport ContentSaveOutline from \'vue-material-design-icons/ContentSaveOutline.vue\'\n\nconst defaultHelpText = \'The URL of the CLARIN Language Resource Switchboard\'\n\nexport default {\n\tname: \'FilesSettings\',\n\tcomponents: {\n\t\tNcTextField,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcCheckboxRadioSwitch,\n\t\tLinkEdit,\n\t\tContentSaveOutline,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tswitchboardUrl: OCA.SwitchboardBridge.SwitchboardUrl,\n\t\t\tswitchboardSavedUrl: OCA.SwitchboardBridge.SwitchboardUrl,\n\t\t\tswitchboardDefaultUrl: OCA.SwitchboardBridge.SwitchboardDefaultUrl,\n\t\t\tusePopUp: OCA.SwitchboardBridge.UsePopUp,\n\t\t\tsubmitted: false,\n\t\t\tinvalid: false,\n\t\t\tloading: false,\n\t\t\tsubmitDisabled: true,\n\t\t\thelpText: defaultHelpText,\n\t\t}\n\t},\n\tmethods: {\n\t\treset() {\n\t\t\tthis.switchboardUrl = this.switchboardDefaultUrl\n\t\t\tthis.setValid()\n\t\t\tthis.submitDisabled = this.switchboardUrl.trim() === this.switchboardSavedUrl.trim()\n\t\t},\n\t\tsubmit() {\n\t\t\tif (this.switchboardUrl) {\n\t\t\t\taxios.post(generateUrl(\'/apps/switchboardbridge/settings\'), {\n\t\t\t\t\tkey: \'switchboard_url\',\n\t\t\t\t\tvalue: this.switchboardUrl,\n\t\t\t\t}).then(response => {\n\t\t\t\t\temit(\'SwitchboardBridge::sbUrlChanged\', {\n\t\t\t\t\t\tnewUrl: this.switchboardUrl,\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.switchboardSavedUrl = this.switchboardUrl\n\t\t\t\t\tthis.submitted = true\n\t\t\t\t\tthis.helpText = \'Success!\'\n\t\t\t\t\tthis.submitDisabled = true\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tupdateUI() {\n\t\t\tthis.submitted = false\n\t\t\tif (this.switchboardSavedUrl === this.switchboardUrl) {\n\t\t\t\tthis.submitDisabled = true\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.validate()\n\t\t},\n\t\tvalidate() {\n\t\t\tif (this.isValidUrl(this.switchboardUrl)) {\n\t\t\t\tthis.setValid()\n\t\t\t} else {\n\t\t\t\tthis.setInvalid()\n\t\t\t}\n\t\t},\n\t\tsetValid() {\n\t\t\tthis.helpText = defaultHelpText\n\t\t\tthis.invalid = false\n\t\t\tthis.submitDisabled = false\n\t\t},\n\t\tsetInvalid() {\n\t\t\tthis.helpText = \'Must be a valid URL in the form: "https://..."\'\n\t\t\tthis.invalid = true\n\t\t\tthis.submitDisabled = true\n\t\t},\n\t\tisValidUrl(string) {\n\t\t\tlet url\n\t\t\ttry {\n\t\t\t\turl = new URL(string)\n\t\t\t} catch (_) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn url.protocol === \'https:\' && string.startsWith(\'https://\')\n\t\t},\n\t\ttogglePopUp() {\n\t\t\tthis.loading = true\n\t\t\tthis.usePopUp = !this.usePopUp\n\t\t\taxios.post(generateUrl(\'/apps/switchboardbridge/settings\'), {\n\t\t\t\tkey: \'use_switchboard_popup\',\n\t\t\t\tvalue: this.usePopUp ? \'1\' : \'0\',\n\t\t\t}).then(response => {\n\t\t\t\temit(\'SwitchboardBridge::usePopUpToggled\')\n\t\t\t\tthis.loading = false\n\t\t\t})\n\t\t},\n\t},\n\torder: -99,\n}\n\n<\/script>\n\n<style lang="css" scoped>\n\t.wrapper {\n\t\tmargin-top: 15px;\n\t\tmargin-bottom: 5px;\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\tflex-direction: column;\n\t}\n\t#title, #popupbox {\n\t\talign-self: start;\n\t}\n</style>\n'],sourceRoot:""}]);const r=l},4754:(t,e,i)=>{i.d(e,{default:()=>D});var n=i(1338),s=i(715),a=i(3814),l=i(7095),r=i(8442),o=i(1043);const d="The URL of the CLARIN Language Resource Switchboard",h={name:"FilesSettings",components:{NcTextField:l.v,NcActions:l.B6,NcActionButton:l.Ko,NcCheckboxRadioSwitch:l.AO,LinkEdit:r.A,ContentSaveOutline:o.A},data:()=>({switchboardUrl:OCA.SwitchboardBridge.SwitchboardUrl,switchboardSavedUrl:OCA.SwitchboardBridge.SwitchboardUrl,switchboardDefaultUrl:OCA.SwitchboardBridge.SwitchboardDefaultUrl,usePopUp:OCA.SwitchboardBridge.UsePopUp,submitted:!1,invalid:!1,loading:!1,submitDisabled:!0,helpText:d}),methods:{reset(){this.switchboardUrl=this.switchboardDefaultUrl,this.setValid(),this.submitDisabled=this.switchboardUrl.trim()===this.switchboardSavedUrl.trim()},submit(){this.switchboardUrl&&s.Ay.post((0,a.Jv)("/apps/switchboardbridge/settings"),{key:"switchboard_url",value:this.switchboardUrl}).then((t=>{(0,n.Ic)("SwitchboardBridge::sbUrlChanged",{newUrl:this.switchboardUrl}),this.switchboardSavedUrl=this.switchboardUrl,this.submitted=!0,this.helpText="Success!",this.submitDisabled=!0}))},updateUI(){this.submitted=!1,this.switchboardSavedUrl!==this.switchboardUrl?this.validate():this.submitDisabled=!0},validate(){this.isValidUrl(this.switchboardUrl)?this.setValid():this.setInvalid()},setValid(){this.helpText=d,this.invalid=!1,this.submitDisabled=!1},setInvalid(){this.helpText='Must be a valid URL in the form: "https://..."',this.invalid=!0,this.submitDisabled=!0},isValidUrl(t){let e;try{e=new URL(t)}catch(t){return!1}return"https:"===e.protocol&&t.startsWith("https://")},togglePopUp(){this.loading=!0,this.usePopUp=!this.usePopUp,s.Ay.post((0,a.Jv)("/apps/switchboardbridge/settings"),{key:"use_switchboard_popup",value:this.usePopUp?"1":"0"}).then((t=>{(0,n.Ic)("SwitchboardBridge::usePopUpToggled"),this.loading=!1}))}},order:-99};var c=i(5072),p=i.n(c),u=i(7825),b=i.n(u),g=i(7659),w=i.n(g),m=i(5056),v=i.n(m),U=i(540),A=i.n(U),x=i(1113),f=i.n(x),S=i(4658),C={};C.styleTagTransform=f(),C.setAttributes=v(),C.insert=w().bind(null,"head"),C.domAPI=b(),C.insertStyleElement=A();p()(S.A,C);S.A&&S.A.locals&&S.A.locals;const D=(0,i(4486).A)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("h4",{attrs:{id:"title"}},[t._v("\n\t\tSwitchboard settings\n\t")]),t._v(" "),e("NcTextField",{attrs:{label:"Switchboard URL","helper-text":t.helpText,type:"url",placeholder:"e.g. https://switchboard.clarin.eu","trailing-button-icon":"undo","trailing-button-label":"Reset to default","show-trailing-button":t.switchboardUrl!==t.switchboardDefaultUrl,error:t.invalid,success:t.submitted},on:{"trailing-button-click":t.reset,"update:modelValue":t.updateUI},scopedSlots:t._u([{key:"icon",fn:function(){return[e("LinkEdit",{attrs:{size:20}})]},proxy:!0}]),model:{value:t.switchboardUrl,callback:function(e){t.switchboardUrl=e},expression:"switchboardUrl"}}),t._v(" "),e("NcActions",{attrs:{"force-name":!0}},[e("NcActionButton",{attrs:{disabled:t.submitDisabled},on:{click:t.submit},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ContentSaveOutline",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\tSave\n\t\t")])],1),t._v(" "),e("div",{attrs:{id:"popupbox"}},[e("NcCheckboxRadioSwitch",{attrs:{"model-value":t.usePopUp,loading:t.loading},on:{"update:modelValue":t.togglePopUp}},[t._v("\n\t\t\tUse Switchboard on-screen pop-up to open single files (experimental)\n\t\t")])],1)],1)}),[],!1,null,"16b0f112",null).exports},6886:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M8.6%2016.6l4.6-4.6-4.6-4.6L10%206l6%206-6%206-1.4-1.4z%27/%3e%3c/svg%3e"},7514:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M18.4%207.4L17%206l-6%206%206%206%201.4-1.4-4.6-4.6%204.6-4.6m-6%200L11%206l-6%206%206%206%201.4-1.4L7.8%2012l4.6-4.6z%27/%3e%3c/svg%3e"},7518:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M15.4%2016.6L10.8%2012l4.6-4.6L14%206l-6%206%206%206%201.4-1.4z%27/%3e%3c/svg%3e"},9722:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M5.6%207.4L7%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6m6%200L13%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6z%27/%3e%3c/svg%3e"}}]);
//# sourceMappingURL=switchboardbridge-src_views_FilesSettings_vue-data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightText_202020_20-e0a19d.js.map?v=b1eb959fc3c1d7de19e2